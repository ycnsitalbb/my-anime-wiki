(this["webpackJsonpmy-anime-wiki"]=this["webpackJsonpmy-anime-wiki"]||[]).push([[0],{186:function(e,t,n){},213:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(49),i=n.n(r),s=(n(184),n(185),n(186),n(18)),o=n(98),u=n(159),j=n(20),l=n(15),d=n(19),b={isSignedIn:null,userId:null,animeList:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(d.a)(Object(d.a)({},e),{},{isSignedIn:!0,userId:t.payload.userId,animeList:t.payload.animeList});case"SIGN_OUT":return Object(d.a)(Object(d.a)({},e),{},{isSignedIn:!1,userId:null,animeList:[]});case"CREATE_LIST":case"DELETE_LIST":case"ADD_TO_LIST":case"REMOVE_FROM_LIST":return Object(d.a)(Object(d.a)({},e),{},{animeList:t.payload.animeList});default:return e}},h={searchTerm:null,searchResults:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_TERM":return Object(d.a)(Object(d.a)({},e),{},{searchTerm:t.payload});case"SEARCH":return Object(d.a)(Object(d.a)({},e),{},{results:t.payload});default:return e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ANIME_DETAIL":return t.payload;case"CLEAN_ANIME_DETAIL":return null;default:return e}},g=Object(o.b)({user:O,search:m,anime:x}),f=n(13),p=n.n(f),v=n(22),_=n(8),y=n(108),S=n.n(y),w=S.a.create({baseURL:"https://api.jikan.moe/v3"}),I=n(33),k=n(129),C=n(233),L=n(220),A=n(1),E=function(e){var t=e.slides,n=e.size;return Object(A.jsx)(C.a,{textAlign:"center",children:Object(A.jsx)(L.a.Group,{size:n,children:Object(k.a)(Array(t).keys()).map((function(e){return Object(A.jsx)(L.a,{as:I.d,icon:"circle",slide:e},e)}))})})};E.defaultProps={size:"mini"};var R=E,T=function(e){var t=e.items,n=e.width,a=void 0===n?1:n,c=e.height,r=void 0===c?.3:c;return Object(A.jsxs)(I.c,{naturalSlideWidth:a,naturalSlideHeight:r,totalSlides:t.length,children:[Object(A.jsx)(I.f,{children:t.map((function(e,t){return Object(A.jsx)(I.e,{index:t,children:e})}))}),Object(A.jsx)(R,{slides:t.length})]})},P=n(249),N=n(14),M=n.n(N),D=n(244),F=n(238),G=n(248),H=n(167),z=(n(213),function(e){var t=e.title,n=e.image_url,a=e.mal_id,c=e.score,r=function(e){return M.a.truncate(e,{length:28,separator:" "})};return Object(A.jsxs)(D.a,{fluid:!0,raised:!0,children:[Object(A.jsx)(H.a,{size:"large",src:n}),Object(A.jsx)(D.a.Content,{children:Object(A.jsx)(F.a,{content:Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{children:t}),"Rating:",Object(A.jsx)(G.a,{icon:"star",disabled:!0,defaultRating:c/2,maxRating:5})]}),trigger:Object(A.jsx)(D.a.Header,{as:j.b,to:"/anime/".concat(a),children:r(t)})})})]})}),B=function(e){var t=e.items,n=e.itemsPerRow,a=void 0===n?6:n;return Object(A.jsx)(D.a.Group,{itemsPerRow:a,children:function(){if(t)return t.map((function(e){return Object(A.jsx)(z,{image_url:e.image_url,title:e.title,mal_id:e.mal_id,score:e.score})}))}()})},U=function(){var e=Object(a.useState)([]),t=Object(_.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(_.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)([]),j=Object(_.a)(u,2),l=j[0],d=j[1];Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/search/anime?order_by=score&sort=desc&page=1");case 2:return t=e.sent,c(t.data.results),e.next=6,w.get("/top/anime/1/airing");case 6:return n=e.sent,o(n.data.top),e.next=10,w.get("/top/anime/1/upcoming");case 10:a=e.sent,d(a.data.top);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=function(e,t){return M.a.chunk(e,t).map((function(e){return Object(A.jsx)(B,{items:e})}))};return Object(A.jsxs)(C.a,{children:[Object(A.jsx)(P.a,{as:"h2",children:"Top Airing Anime"}),Object(A.jsx)(T,{items:b(s,6)}),Object(A.jsx)(P.a,{as:"h2",children:"Top Upcoming Anime"}),Object(A.jsx)(T,{items:b(l,6)}),Object(A.jsx)(P.a,{as:"h2",children:"Top Rated Anime"}),Object(A.jsx)(T,{items:b(n,6)})]})},V=S.a.create({baseURL:"http://localhost:3001"}),Y=function(e,t,n){var a=n.mal_id,c=n.image_url,r=n.title;return function(){var n=Object(v.a)(p.a.mark((function n(i){var s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V.post("/users/".concat(e,"/animeList/").concat(t,"/anime"),{anime:{mal_id:a,image_url:c,title:r}});case 2:s=n.sent,i({type:"ADD_TO_LIST",payload:{userId:e,animeList:s.data.animeList}});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},q=function(e,t,n){return function(){var a=Object(v.a)(p.a.mark((function a(c){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,V.delete("/users/".concat(e,"/animeList/").concat(t,"/").concat(n));case 2:r=a.sent,c({type:"REMOVE_FROM_LIST",payload:{userId:e,animeList:r.data.animeList}});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var a=Object(v.a)(p.a.mark((function a(c){var r,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={q:e,limit:10,genre:n,page:t},a.next=3,w.get("/search/anime",{params:r});case 3:i=a.sent,c({type:"SEARCH",payload:i.data.results});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},J=Object(s.b)(null,{search:W})((function(e){var t=e.search,n=Object(a.useState)(""),c=Object(_.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){var e;function n(){return(n=Object(v.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=setTimeout((function(){t(r,1)}),500);case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return r&&function(){n.apply(this,arguments)}(),function(){clearTimeout(e)}}),[r,t]),Object(A.jsx)("div",{className:"ui segment",children:Object(A.jsx)("form",{className:"ui form",children:Object(A.jsxs)("div",{className:"field",children:[Object(A.jsx)("label",{children:"Search Anime"}),Object(A.jsx)("input",{className:"input",type:"text",placeholder:"Enter anime name",value:r,onChange:function(e){return i(e.target.value)}})]})})})})),X=n(240),K=n(242),$=n(243),Q=function(e){var t=Object.assign({},e);return Object(A.jsx)(L.a,Object(d.a)(Object(d.a)({},t),{},{className:"button ui",icon:"plus",content:"LIST",labelPosition:"left",primary:!0}))},Z=Object(s.b)((function(e){return{animeList:e.user.animeList}}),{addToList:Y})((function(e){var t=e.userId,n=e.mal_id,c=e.image_url,r=e.title,i=e.score,s=e.addToList,o=e.animeList,u=Object(a.useState)(!1),j=Object(_.a)(u,2),l=j[0],d=j[1],b=Object(a.useState)(null),O=Object(_.a)(b,2),h=O[0],m=O[1];return Object(A.jsxs)(K.a,{onClose:function(){return d(!1)},onOpen:function(){return d(!0)},open:l,trigger:Object(A.jsx)(Q,{}),children:[Object(A.jsx)(K.a.Header,{children:"Select a list to add anime"}),Object(A.jsx)(K.a.Content,{children:Object(A.jsx)($.a,{selection:!0,children:o.map((function(e){return Object(A.jsx)($.a.Item,{active:h===e.listId,onClick:function(){return m(e.listId)},children:e.listName})}))})}),Object(A.jsxs)(K.a.Actions,{children:[Object(A.jsx)(L.a,{color:"black",onClick:function(){return d(!1)},children:"Close"}),Object(A.jsx)(L.a,{content:"Add",labelPosition:"right",icon:"checkmark",onClick:function(){d(!1),s(t,h,{mal_id:n,image_url:c,title:r,score:i})},positive:!0})]})]})})),ee=function(e){var t=Object.assign({},e);return Object(A.jsx)(L.a,Object(d.a)(Object(d.a)({},t),{},{icon:"minus",content:"REMOVE",labelPosition:"left",negative:!0}))},te=Object(s.b)((function(e){return{animeList:e.user.animeList}}),{removeFromList:q})((function(e){var t=e.userId,n=e.mal_id,c=e.animeList,r=e.removeFromList,i=Object(a.useState)(!1),s=Object(_.a)(i,2),o=s[0],u=s[1],j=Object(a.useState)(null),l=Object(_.a)(j,2),d=l[0],b=l[1];return Object(A.jsxs)(K.a,{onClose:function(){return u(!1)},onOpen:function(){return u(!0)},open:o,trigger:Object(A.jsx)(ee,{}),children:[Object(A.jsx)(K.a.Header,{children:"Select a list to remove anime"}),Object(A.jsx)(K.a.Content,{children:Object(A.jsx)($.a,{selection:!0,children:c.map((function(e){return Object(A.jsx)($.a.Item,{active:d===e.listId,onClick:function(){return b(e.listId)},children:e.listName})}))})}),Object(A.jsxs)(K.a.Actions,{children:[Object(A.jsx)(L.a,{color:"black",onClick:function(){return u(!1)},children:"Close"}),Object(A.jsx)(L.a,{content:"Remove",onClick:function(){u(!1),r(t,d,n)},negative:!0})]})]})})),ne=Object(s.b)((function(e){return{animeList:e.user.animeList,userId:e.user.userId}}))((function(e){var t=e.mal_id,n=e.userId,a=e.animeList,c=e.image_url,r=e.title,i=e.score;return n?a.find((function(e){return e.anime.find((function(e){return e.mal_id===t}))}))?Object(A.jsx)(te,{userId:n,mal_id:t}):Object(A.jsx)(Z,{userId:n,mal_id:t,image_url:c,title:r,score:i}):null})),ae=Object(s.b)((function(e){return{userId:e.user.userId,animeList:e.user.animeList}}),{addToList:Y,removeFromList:q})((function(e){var t=e.anime;return Object(A.jsxs)(X.a,{children:[Object(A.jsx)(X.a.Image,{as:j.b,to:"/anime/".concat(t.mal_id),src:t.image_url,alt:t.title}),Object(A.jsxs)(X.a.Content,{children:[Object(A.jsx)(X.a.Header,{as:j.b,to:"/anime/".concat(t.mal_id),content:t.title}),Object(A.jsx)(X.a.Meta,{content:"Description"}),Object(A.jsx)(X.a.Description,{content:t.synopsis}),Object(A.jsxs)(X.a.Extra,{children:[Object(A.jsxs)("div",{children:["MyAnimeList Score: ",t.score]}),Object(A.jsxs)("div",{children:["Rated:",t.rated]}),Object(A.jsxs)("div",{children:["Episodes:",t.episodes]})]}),Object(A.jsx)(ne,{title:t.title,image_url:t.image_url,mal_id:t.mal_id,score:t.score})]})]})})),ce=Object(s.b)((function(e){return{animes:e.search.results}}))((function(e){return Object(A.jsx)("div",{className:"ui divided items",children:e.animes?e.animes.map((function(e){return Object(A.jsx)(ae,{anime:e},e.mal_id)})):null})})),re=function(){return Object(A.jsxs)(C.a,{children:[Object(A.jsx)(J,{}),Object(A.jsx)(ce,{})]})},ie=n(104),se=n(168),oe=n(144),ue=function(e){var t=e.anime,n=t.genres.map((function(e){return Object(A.jsx)(ie.a,{as:j.b,to:"/browse?genre=".concat(e.mal_id),color:"blue",content:e.name})})),a=t.studios.map((function(e){return Object(A.jsx)(ie.a,{content:e.name})}));return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(P.a,{as:"h1",content:t.title,subheader:t.title_japanese}),Object(A.jsx)(se.a,{columns:3,divided:!0,children:Object(A.jsxs)(se.a.Row,{children:[Object(A.jsx)(se.a.Column,{width:3,children:Object(A.jsx)(H.a,{src:t.image_url,alt:t.title,size:"medium"})}),Object(A.jsxs)(se.a.Column,{width:5,children:[Object(A.jsxs)("div",{children:["Studio: ",Object(A.jsx)(ie.a.Group,{children:a})]}),Object(A.jsxs)("div",{children:["Status: ",t.status]}),Object(A.jsxs)("div",{children:["Aired from ",t.aired.string]}),Object(A.jsxs)("div",{children:["Duration for single episode: ",t.duration]}),Object(A.jsxs)("div",{children:["Rating: ",t.rating]}),Object(A.jsxs)("div",{children:["Genres: ",Object(A.jsx)(ie.a.Group,{children:n})]})]}),Object(A.jsxs)(se.a.Column,{children:[Object(A.jsxs)("div",{children:["Score:",Object(A.jsx)(G.a,{icon:"star",defaultRating:t.score/2,maxRating:5,disabled:!0}),t.score]}),Object(A.jsxs)("div",{children:["Rank: ",t.rank]}),Object(A.jsxs)("div",{children:["Popularity: ",t.popularity]}),Object(A.jsx)(ne,{image_url:t.image_url,mal_id:t.mal_id,title:t.title,score:t.score})]})]})}),Object(A.jsx)("h2",{children:"Synopsis"}),Object(A.jsx)(oe.a,{children:t.synopsis})]})},je=(n(215),function(e){var t=e.character;return console.log(t),Object(A.jsxs)(D.a,{children:[Object(A.jsx)(H.a,{src:t.image_url}),Object(A.jsxs)(D.a.Content,{children:[Object(A.jsx)(D.a.Header,{children:t.name}),Object(A.jsxs)(D.a.Meta,{children:["Voice Actor: ",t.voice_actors.length>0?t.voice_actors[0].name:"N/A"]})]})]})}),le=function(e){var t=e.characters,n=M.a.chunk(t,6).map((function(e){return Object(A.jsx)(D.a.Group,{itemsPerRow:6,children:e.map((function(e){return Object(A.jsx)(je,{character:e})}))})}));return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(P.a,{content:"Main Character",as:"h2"}),Object(A.jsx)(T,{width:.3,height:.1,items:n})]})},de=function(e){var t=e.image_url,n=e.children,a=c.a.useState(!1),r=Object(_.a)(a,2),i=r[0],s=r[1];return Object(A.jsx)(K.a,{closeIcon:!0,onClose:function(){return s(!1)},onOpen:function(){return s(!0)},open:i,trigger:n,children:Object(A.jsx)(K.a.Content,{image:!0,children:Object(A.jsx)(H.a,{src:t,wrapped:!0,fluid:!0})})})},be=function(e){var t=e.pictures,n=M.a.chunk(t,7).map((function(e){return Object(A.jsx)(H.a.Group,{size:"small",children:e.map((function(e){return Object(A.jsx)(de,{image_url:e.large,children:Object(A.jsx)(H.a,{bordered:!0,src:e.small})})}))})}));return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(P.a,{content:"Pictures",as:"h2"}),Object(A.jsx)(T,{items:n})]})},Oe=(n(216),function(e){var t=e.staff;return Object(A.jsxs)(D.a,{children:[Object(A.jsx)(H.a,{src:t.image_url}),Object(A.jsxs)(D.a.Content,{children:[Object(A.jsx)(D.a.Header,{children:t.name}),Object(A.jsx)(D.a.Meta,{children:t.positions})]})]})}),he=function(e){var t=e.staff,n=M.a.chunk(t,6).map((function(e){return Object(A.jsx)(D.a.Group,{itemsPerRow:6,children:e.map((function(e){return Object(A.jsx)(Oe,{staff:e})}))})}));return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(P.a,{content:"Staff",as:"h2"}),Object(A.jsx)(T,{width:.3,height:.1,items:n})]})},me=n(245),xe=n(46),ge=(n(217),function(e){var t=e.reviews,n=Object(a.useState)(-1),r=Object(_.a)(n,2),i=r[0],s=r[1],o=function(e,t){var n=t.index;s(i===n?-1:n)},u=t.map((function(e,t){return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsxs)(me.a.Title,{active:i===t,index:t,onClick:o,children:[Object(A.jsx)(P.a,{children:Object(A.jsxs)(se.a,{children:[Object(A.jsxs)(se.a.Column,{floated:"left",width:10,children:[Object(A.jsx)(H.a,{src:e.reviewer.image_url,size:"mini",floated:"left"}),e.reviewer.username]}),Object(A.jsx)(se.a.Column,{floated:"right",width:3,children:Object(A.jsx)(G.a,{icon:"star",defaultRating:e.reviewer.scores.overall/2,maxRating:5,disabled:!0})})]})}),Object(A.jsx)(xe.a,{name:"dropdown"})," Details"]}),Object(A.jsxs)(me.a.Content,{active:i===t,children:[Object(A.jsxs)("div",{children:["Story:",Object(A.jsx)(G.a,{icon:"star",defaultRating:e.reviewer.scores.story/2,maxRating:5,disabled:!0})]}),Object(A.jsxs)("div",{children:["Animation:",Object(A.jsx)(G.a,{icon:"star",defaultRating:e.reviewer.scores.animation/2,maxRating:5,disabled:!0})]}),Object(A.jsxs)("div",{children:["Sound:",Object(A.jsx)(G.a,{icon:"star",defaultRating:e.reviewer.scores.sound/2,maxRating:5,disabled:!0})]}),Object(A.jsxs)("div",{children:["Character:",Object(A.jsx)(G.a,{icon:"star",defaultRating:e.reviewer.scores.character/2,maxRating:5,disabled:!0})]}),Object(A.jsxs)("div",{children:["Enjoyment:",Object(A.jsx)(G.a,{icon:"star",defaultRating:e.reviewer.scores.enjoyment/2,maxRating:5,disabled:!0})]}),Object(A.jsx)("p",{children:e.content})]})]})}));return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(P.a,{as:"h2",content:"Review"}),Object(A.jsx)(me.a,{styled:!0,fluid:!0,children:u})]})}),fe=n(234),pe=function(e){var t=e.trailers.map((function(e){return Object(A.jsx)(fe.a,{hd:!0,placeholder:e.image_url,url:e.video_url})}));return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(P.a,{content:"Trailer",as:"h2"}),Object(A.jsx)(T,{items:t,width:1,height:.58})]})},ve=n(246),_e=n(235),ye=(n(218),function(){return Object(A.jsx)(C.a,{children:Object(A.jsx)(oe.a,{children:Object(A.jsx)(ve.a,{active:!0,inverted:!0,children:Object(A.jsx)(_e.a,{size:"large",children:"Loading"})})})})}),Se=function(e){var t=e.recommendations,n=M.a.chunk(t,6).map((function(e){return Object(A.jsx)(B,{items:e})}));return Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(P.a,{as:"h2",content:"Recommendation"}),Object(A.jsx)(T,{items:n})]})},we=function(){var e=Object(l.h)().mal_id,t=Object(a.useState)(null),n=Object(_.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(_.a)(i,2),o=s[0],u=s[1],j=Object(a.useState)([]),d=Object(_.a)(j,2),b=d[0],O=d[1],h=Object(a.useState)([]),m=Object(_.a)(h,2),x=m[0],g=m[1],f=Object(a.useState)([]),y=Object(_.a)(f,2),S=y[0],I=y[1],k=Object(a.useState)([]),L=Object(_.a)(k,2),E=L[0],R=L[1],T=Object(a.useState)([]),P=Object(_.a)(T,2),N=P[0],D=P[1];return Object(a.useEffect)((function(){function t(){return(t=Object(v.a)(p.a.mark((function t(){var n,a,c,i,s,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.get("https://api.jikan.moe/v3/anime/".concat(e));case 2:return n=t.sent,r(n.data),t.next=6,w.get("https://api.jikan.moe/v3/anime/".concat(e,"/reviews"));case 6:return a=t.sent,u(a.data.reviews),t.next=10,w.get("https://api.jikan.moe/v3/anime/".concat(e,"/pictures"));case 10:return c=t.sent,O(c.data.pictures),t.next=14,w.get("https://api.jikan.moe/v3/anime/".concat(e,"/characters_staff"));case 14:return i=t.sent,I(M.a.slice(i.data.staff,0,20)),g(i.data.characters.filter((function(e){return"Main"===e.role}))),t.next=19,w.get("https://api.jikan.moe/v3/anime/".concat(e,"/videos"));case 19:return s=t.sent,R(s.data.promo),t.next=23,w.get("https://api.jikan.moe/v3/anime/".concat(e,"/recommendations"));case 23:o=t.sent,D(M.a.slice(o.data.recommendations,0,24));case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),c&&S&&x&&E&&b&&o&&N?Object(A.jsxs)(C.a,{children:[Object(A.jsx)(ue,{anime:c}),Object(A.jsx)(he,{staff:S}),Object(A.jsx)(le,{characters:x}),Object(A.jsx)(pe,{trailers:E}),Object(A.jsx)(be,{pictures:b}),Object(A.jsx)(ge,{reviews:o}),Object(A.jsx)(Se,{recommendations:N})]}):Object(A.jsx)(ye,{})},Ie=n(236),ke=Object(s.b)((function(e){return{userId:e.user.userId}}),{createList:function(e,t){return function(){var n=Object(v.a)(p.a.mark((function n(a){var c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V.post("/users/".concat(e,"/animeList"),{listName:t});case 2:c=n.sent,a({type:"CREATE_LIST",payload:{userId:e,animeList:c.data.animeList}});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.children,n=e.userId,c=e.createList,r=Object(a.useState)(null),i=Object(_.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)(!1),j=Object(_.a)(u,2),l=j[0],d=j[1];return Object(A.jsxs)(K.a,{size:"small",onClose:function(){return d(!1)},onOpen:function(){return d(!0)},open:l,trigger:t,children:[Object(A.jsx)(K.a.Header,{children:"Create a new list"}),Object(A.jsx)(K.a.Content,{children:Object(A.jsx)(Ie.a,{placeholder:"Enter list name",onChange:function(e){return o(e.target.value)}})}),Object(A.jsxs)(K.a.Actions,{children:[Object(A.jsx)(L.a,{color:"black",onClick:function(){return d(!1)},children:"Cancel"}),Object(A.jsx)(L.a,{content:"Add",labelPosition:"right",icon:"checkmark",onClick:function(){d(!1),c(n,s)},positive:!0})]})]})})),Ce=Object(s.b)((function(e){return{userId:e.user.userId}}),{deleteList:function(e,t){return function(){var n=Object(v.a)(p.a.mark((function n(a){var c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,V.post("/users/".concat(e,"/animeList/").concat(t));case 2:c=n.sent,a({type:"DELETE_LIST",payload:{userId:e,animeList:c.data.animeList}});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.children,n=e.userId,c=e.deleteList,r=e.listId,i=Object(a.useState)(!1),s=Object(_.a)(i,2),o=s[0],u=s[1];return Object(A.jsxs)(K.a,{size:"small",onClose:function(){return u(!1)},onOpen:function(){return u(!0)},open:o,trigger:t,children:[Object(A.jsx)(K.a.Header,{children:"Confirmation"}),Object(A.jsx)(K.a.Content,{children:Object(A.jsxs)(K.a.Description,{children:[Object(A.jsx)(P.a,{children:"Are you sure you want to delete the list?"}),Object(A.jsx)("p",{children:"If you delete the list, all the anime in the list will also be removed"})]})}),Object(A.jsxs)(K.a.Actions,{children:[Object(A.jsx)(L.a,{color:"black",onClick:function(){return u(!1)},children:"Cancel"}),Object(A.jsx)(L.a,{negative:!0,content:"Delete",labelPosition:"right",icon:"checkmark",onClick:function(){u(!1),c(n,r)}})]})]})})),Le=Object(s.b)((function(e){return{animeList:e.user.animeList}}))((function(e){var t=e.animeList;return Object(A.jsxs)(C.a,{children:[Object(A.jsx)(P.a,{as:"h1",children:"My Collections"}),Object(A.jsx)(ke,{children:Object(A.jsx)(L.a,{children:"Add New List"})}),t.map((function(e){return Object(A.jsxs)(oe.a,{children:[Object(A.jsx)(Ce,{listId:e.listId,children:Object(A.jsx)(L.a,{children:"Delete List"})}),Object(A.jsx)(B,{title:e.listName,items:e.anime})]})}))]})})),Ae=n(251),Ee=function(){var e=Object(a.useState)(null),t=Object(_.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/schedule");case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var r=[{menuItem:"Monday",render:function(){return Object(A.jsx)(Ae.a.Pane,{children:Object(A.jsx)(B,{items:n.monday})})}},{menuItem:"Tuesday",render:function(){return Object(A.jsxs)(Ae.a.Pane,{children:[" ",Object(A.jsx)(B,{items:n.tuesday})]})}},{menuItem:"Wednesday",render:function(){return Object(A.jsxs)(Ae.a.Pane,{children:[" ",Object(A.jsx)(B,{items:n.wednesday})]})}},{menuItem:"Thursday",render:function(){return Object(A.jsxs)(Ae.a.Pane,{children:[" ",Object(A.jsx)(B,{items:n.thursday})]})}},{menuItem:"Friday",render:function(){return Object(A.jsxs)(Ae.a.Pane,{children:[" ",Object(A.jsx)(B,{items:n.friday})]})}},{menuItem:"Saturday",render:function(){return Object(A.jsxs)(Ae.a.Pane,{children:[" ",Object(A.jsx)(B,{items:n.saturday})]})}},{menuItem:"Sunday",render:function(){return Object(A.jsxs)(Ae.a.Pane,{children:[" ",Object(A.jsx)(B,{items:n.sunday})]})}}];return Object(A.jsx)(C.a,{children:n?Object(A.jsx)(Ae.a,{panes:r,renderActiveOnly:!0}):Object(A.jsx)(_e.a,{})})},Re=function(){return Object(A.jsxs)(C.a,{children:[Object(A.jsx)(P.a,{as:"h1",children:"Sorry, something went wrong"}),Object(A.jsxs)(P.a,{as:"h2",children:["Please click ",Object(A.jsx)(j.b,{to:"/",children:"here"})," to go to the home page"]})]})},Te=n(252),Pe=n(237),Ne=[{genre_id:1,genre_name:"Action"},{genre_id:2,genre_name:"Adventure"},{genre_id:3,genre_name:"Cars"},{genre_id:4,genre_name:"Comedy"},{genre_id:5,genre_name:"Dementia"},{genre_id:6,genre_name:"Demons"},{genre_id:7,genre_name:"Mystery"},{genre_id:8,genre_name:"Drama"},{genre_id:9,genre_name:"Ecchi"},{genre_id:10,genre_name:"Fantasy"},{genre_id:11,genre_name:"Game"},{genre_id:12,genre_name:"Hentai"},{genre_id:13,genre_name:"Historical"},{genre_id:14,genre_name:"Horror"},{genre_id:15,genre_name:"Kids"},{genre_id:16,genre_name:"Magic"},{genre_id:17,genre_name:"Martial Arts"},{genre_id:18,genre_name:"Mecha"},{genre_id:19,genre_name:"Music"},{genre_id:20,genre_name:"Parody"},{genre_id:21,genre_name:"Samurai"},{genre_id:22,genre_name:"Romance"},{genre_id:23,genre_name:"School"},{genre_id:24,genre_name:"Sci Fi"},{genre_id:25,genre_name:"Shoujo"},{genre_id:26,genre_name:"Shoujo Ai"},{genre_id:27,genre_name:"Shounen"},{genre_id:28,genre_name:"Shounen Ai"},{genre_id:29,genre_name:"Space"},{genre_id:30,genre_name:"Sports"},{genre_id:31,genre_name:"Super Power"},{genre_id:32,genre_name:"Vampire"},{genre_id:33,genre_name:"Yaoi"},{genre_id:34,genre_name:"Yuri"},{genre_id:35,genre_name:"Harem"},{genre_id:36,genre_name:"Slice Of Life"},{genre_id:37,genre_name:"Supernatural"},{genre_id:38,genre_name:"Military"},{genre_id:39,genre_name:"Police"},{genre_id:40,genre_name:"Psychological"},{genre_id:41,genre_name:"Thriller"},{genre_id:42,genre_name:"Seinen"},{genre_id:43,genre_name:"Josei"}],Me=n(239),De=function(){var e=Object(l.f)(),t=Object(l.g)();return Object(A.jsx)(Me.a,{placeholder:"select season",options:[{key:"all",value:"all",text:"All"},{key:"spring",value:"spring",text:"Spring"},{key:"summer",value:"summer",text:"Summer"},{key:"fall",value:"fall",text:"Fall"},{key:"winter",value:"winter",text:"Winter"}],onChange:function(n,a){var c,r,i=a.value;if(console.log(t.search),t.search.includes("season")){console.log("I have found the season, now replacing it");var s=(c=t.search,r=i,M.a.replace(c,/season=(all|spring|summer|fall|winter)/,"season=".concat(r)));e.push("/browse"+s)}else if(t.search){console.log("I haven't found the season but find other params, adding season");var o=t.search.concat("&season=".concat(i));e.push("/browse"+o)}else console.log("nothing found, adding season directly"),e.push("/browse?season=".concat(i))}})},Fe=function(){var e=Object(a.useState)([]),t=Object(_.a)(e,2),n=t[0],c=t[1],r=Object(l.f)(),i=Object(l.g)();Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/season/archive");case 2:t=e.sent,c(t.data.archive);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=n.map((function(e){return{key:e.year,value:e.year,text:e.year}}));return Object(A.jsx)(Me.a,{scrolling:!0,placeholder:"select year",options:s,onChange:function(e,t){var n,a,c=t.value;if(console.log(i.search),i.search.includes("year")){console.log("I have found the year, now replacing it");var s=(n=i.search,a=c,M.a.replace(n,/year=(all|(19|20)\d{2}$)/,"year=".concat(a)));r.push("/browse"+s)}else if(i.search){console.log("I haven't found the year but find other params, adding year");var o=i.search.concat("&year=".concat(c));r.push("/browse"+o)}else console.log("nothing found, adding year directly"),r.push("/browse?year=".concat(c))}})},Ge=function(){var e=Object(a.useState)(null),t=Object(_.a)(e,2),n=t[0],c=t[1];return Object(A.jsx)(Pe.a,{position:"right",children:Object(A.jsxs)(oe.a,{children:[Object(A.jsx)(P.a,{children:"Anime Filter"}),Object(A.jsxs)(oe.a,{children:[Object(A.jsx)(P.a,{children:"Status"}),Object(A.jsxs)(ie.a.Group,{children:[Object(A.jsx)(ie.a,{children:"All"}),Object(A.jsx)(ie.a,{children:"Upcoming"}),Object(A.jsx)(ie.a,{children:"Airing"}),Object(A.jsx)(ie.a,{children:"Finished"})]})]}),Object(A.jsxs)(oe.a,{children:[Object(A.jsx)(P.a,{children:"Year and Season"}),Object(A.jsx)(Fe,{}),Object(A.jsx)(De,{})]}),Object(A.jsxs)(oe.a,{children:[Object(A.jsx)(P.a,{children:"Year"}),Object(A.jsxs)(ie.a.Group,{children:[Object(A.jsx)(ie.a,{children:"All"}),Object(A.jsx)(ie.a,{children:"2021"}),Object(A.jsx)(ie.a,{children:"2020"}),Object(A.jsx)(ie.a,{children:"2019-2015"}),Object(A.jsx)(ie.a,{children:"2014-2010"}),Object(A.jsx)(ie.a,{children:"Before 2010"})]})]}),Object(A.jsxs)(oe.a,{children:[Object(A.jsx)(P.a,{children:"Genre"}),Object(A.jsx)(ie.a.Group,{children:Ne.map((function(e){var t=e.genre_id,a=e.genre_name;return Object(A.jsx)(ie.a,{as:j.b,active:n===t,onClick:function(){var e;c(n===(e=t)?null:e)},to:"/browse?genre=".concat(t),children:a})}))})]})]})})},He=n(165),ze=function(e){var t=e.byScore,n=e.byMember,c=e.byStartDate,r=Object(a.useState)(null),i=Object(_.a)(r,2),s=i[0],o=i[1],u=function(e){o(e)};return Object(A.jsxs)(He.a,{text:!0,children:[Object(A.jsx)(He.a.Item,{header:!0,children:"Sort By"}),Object(A.jsx)(He.a.Item,{name:"top rated",active:"top rated"===s,onClick:function(){u("top rated"),t()}}),Object(A.jsx)(He.a.Item,{name:"start date",active:"start date"===s,onClick:function(){u("start date"),c()}}),Object(A.jsx)(He.a.Item,{name:"most members",active:"most members"===s,onClick:function(){u("most members"),n()}})]})},Be=function(){var e=Object(a.useState)(0),t=Object(_.a)(e,2),n=(t[0],t[1],Object(a.useState)([])),c=Object(_.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)([]),o=Object(_.a)(s,2),u=o[0],j=o[1],d=new URLSearchParams(Object(l.g)().search),b=d.get("season"),O=d.get("genre"),h=d.get("year");Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/top/anime/1/airing");case 2:t=e.sent,n=t.data.top,a=M.a.chunk(n,20),i(a),j(a[0]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("genreId:".concat(O," year:").concat(h," season:").concat(b)),!O||b||h){e.next=11;break}return e.next=4,w.get("/genre/anime/".concat(O,"/1"));case 4:t=e.sent,n=t.data.anime,a=M.a.chunk(n,20),i(a),j(a[0]),e.next=15;break;case 11:if(!O||!b||h){e.next=15;break}return e.next=14,w.get("/");case 14:e.sent;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O,b,h]);return Object(A.jsxs)(C.a,{children:[Object(A.jsx)(ze,{byScore:function(){return j(M.a.reverse(M.a.sortBy(u,[function(e){return e.score}])))},byMember:function(){return j(M.a.reverse(M.a.sortBy(u,[function(e){return e.members}])))},byStartDate:function(){return j(M.a.reverse(M.a.sortBy(u,[function(e){return e.start_date}])))}}),Object(A.jsx)(se.a,{columns:2,children:Object(A.jsx)(se.a.Column,{width:14,children:Object(A.jsxs)(oe.a,{children:[Object(A.jsx)(B,{items:u,dimmerActive:!1,itemsPerRow:5}),Object(A.jsx)(Ge,{})]})})}),Object(A.jsx)(C.a,{textAlign:"center",children:Object(A.jsx)(Te.a,{defaultActivePage:1,totalPages:r.length,onPageChange:function(e,t){var n=t.activePage;j(r[n-1])}})})]})},Ue=function(e){var t=e.slides,n=e.size;return Object(A.jsx)(C.a,{textAlign:"center",children:Object(A.jsx)(L.a.Group,{size:n,children:Object(k.a)(Array(t).keys()).map((function(e){return Object(A.jsx)(L.a,{as:I.d,icon:"circle",slide:e},e)}))})})};Ue.defaultProps={size:"mini"};var Ve=Ue,Ye=function(e){var t=e.anime,n=M.a.chunk(t,6);return Object(A.jsxs)(I.c,{naturalSlideWidth:1,naturalSlideHeight:1.25,totalSlides:3,style:{width:"300px"},children:[Object(A.jsx)(I.f,{children:function(){return n.map((function(e,t){return Object(A.jsx)(I.e,{index:t,children:Object(A.jsx)(B,{items:e,itemsPerRow:6})})}))}}),Object(A.jsx)(I.a,{children:"Back"}),Object(A.jsx)(I.b,{children:"Next"}),Object(A.jsx)(Ve,{slides:3})]})},qe=n(162),We=n(163),Je=n(166),Xe=n(164),Ke=function(e){Object(Je.a)(n,e);var t=Object(Xe.a)(n);function n(){var e;Object(qe.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onAuthChange=function(t){if(t){var n=e.auth.currentUser.get().getId();console.log("the user is now logged in"),e.props.signIn(n)}else console.log("the user is now signed out"),e.props.signOut()},e.onSignInClicked=function(){console.log("the google login is clicked"),e.auth.signIn()},e.onSignOutClicked=function(){console.log("the google sign out is clicked"),e.auth.signOut()},e.renderButton=function(){return e.props.isSignedIn?Object(A.jsx)(c.a.Fragment,{children:Object(A.jsxs)("button",{className:"ui red google button",onClick:e.onSignOutClicked,children:[Object(A.jsx)("i",{className:"google icon"}),"Sign Out"]})}):Object(A.jsx)(c.a.Fragment,{children:Object(A.jsx)(L.a,{color:"red",icon:"google",content:"Sign in with Google",onClick:e.onSignInClicked})})},e}return Object(We.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:"838714323375-u277098uahp3eva2i56oiq53ptq9kv80.apps.googleusercontent.com",scope:"email"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)}))}))}},{key:"render",value:function(){return this.renderButton()}}]),n}(c.a.Component),$e=Object(s.b)((function(e){return{isSignedIn:e.user.isSignedIn}}),{signIn:function(e){return function(){var t=Object(v.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.post("/users",{userId:e});case 2:a=t.sent,n({type:"SIGN_IN",payload:{userId:e,animeList:a.data.animeList}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},signOut:function(){return{type:"SIGN_OUT"}}})(Ke),Qe=Object(s.b)(null,{search:W})((function(e){var t=Object(a.useState)(""),n=Object(_.a)(t,2),c=n[0],r=n[1];return"/"===Object(l.g)().pathname?Object(A.jsx)(Ie.a,{action:Object(A.jsx)(L.a,{content:"Search",as:j.b,to:"/search",onClick:function(){return e.search(c,1,null)}}),placeholder:"Search...",onChange:function(e){r(e.target.value)},value:c}):null})),Ze=Object(s.b)((function(e){return{isSignedIn:e.user.isSignedIn}}))((function(e){var t=Object(l.g)(),n=Object(a.useState)("home"),c=Object(_.a)(n,2),r=c[0],i=c[1],s=function(e,t){var n=t.name;return i(n)};return Object(a.useEffect)((function(){t.pathname.includes("browse")&&i("browse")}),[t]),Object(A.jsxs)(He.a,{children:[Object(A.jsx)(He.a.Item,{name:"home",active:"home"===r,content:"Home",onClick:s,as:j.b,to:"/"}),Object(A.jsx)(He.a.Item,{name:"browse",active:"browse"===r,content:"Browse",onClick:s,as:j.b,to:"/browse"}),Object(A.jsx)(He.a.Item,{name:"search",active:"search"===r,content:"Search",onClick:s,as:j.b,to:"/search"}),Object(A.jsx)(He.a.Item,{name:"schedule",active:"schedule"===r,content:"Schedule",onClick:s,as:j.b,to:"/schedule"}),e.isSignedIn?Object(A.jsx)(He.a.Item,{name:"collection",active:"collection"===r,content:"Collection",onClick:s,as:j.b,to:"/collection"}):null,Object(A.jsxs)("div",{className:"right menu",children:[Object(A.jsx)(Qe,{}),Object(A.jsx)($e,{})]})]})})),et=function(){var e=Object(a.useState)(!1),t=Object(_.a)(e,2),n=t[0],c=t[1],r=function(){window.pageYOffset>400?c(!0):c(!1)};Object(a.useEffect)((function(){var e=window.addEventListener("scroll",r);return function(){e.unListen()}}),[]);var i=function(){window.scrollTo({top:0,behavior:"smooth"})};return n?Object(A.jsx)(L.a,{primary:!0,icon:"arrow up",onClick:i,floated:"right"}):null},tt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,nt=Object(o.d)(g,tt(Object(o.a)(u.a)));i.a.render(Object(A.jsx)(s.a,{store:nt,children:Object(A.jsxs)(j.a,{children:[Object(A.jsx)(Ze,{}),Object(A.jsxs)(l.c,{children:[Object(A.jsx)(l.a,{path:"/",exact:!0,component:U}),Object(A.jsx)(l.a,{path:"/browse",exact:!0,component:Be}),Object(A.jsx)(l.a,{path:"/search",exact:!0,component:re}),Object(A.jsx)(l.a,{path:"/collection",exact:!0,component:Le}),Object(A.jsx)(l.a,{path:"/schedule",exact:!0,component:Ee}),Object(A.jsx)(l.a,{path:"/anime/:mal_id",exact:!0,component:we}),Object(A.jsx)(l.a,{path:"/test",exact:!0,component:Ye}),Object(A.jsx)(l.a,{path:"/error",exact:!0,component:Re}),Object(A.jsx)(l.a,{path:"*",component:Re})]}),Object(A.jsx)(et,{})]})}),document.querySelector("#root"))}},[[219,1,2]]]);
//# sourceMappingURL=main.f2529630.chunk.js.map